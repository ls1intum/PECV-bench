{
  "case_id": "new-data/ISE22-H05E01-REST_Architectural_Style/010",
  "issues": [
    {
      "description": "Endpoint path mismatch for the Persons REST endpoints: the problem statement specifies unversioned endpoints (POST /persons, GET /persons, PUT /persons/{personId}, DELETE /persons/{personId}) and the template leaves the endpoints for students to implement. The provided solution, however, uses a mix of versioned and unversioned paths: GET and PUT mappings are defined under \"v2/persons\" while POST and DELETE remain under \"persons\". This inconsistency between the problem statement and the solution will confuse students about the correct URI to use and may cause tests or client requests to fail if they follow the specification in the problem statement or the template.",
      "severity": "HIGH",
      "category": "METHOD_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 109,
          "end_line": 115
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 1,
          "end_line": 19
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 23,
          "end_line": 49
        }
      ],
      "suggested_fix": "Make the endpoint paths consistent with the problem statement and template. In the solution repository (and generally), use unversioned paths for all Person endpoints: change @GetMapping(\"v2/persons\") to @GetMapping(\"persons\") and @PutMapping(\"v2/persons/{personId}\") to @PutMapping(\"persons/{personId}\"). Alternatively, if versioning is intended, update the problem statement and template to document the versioned endpoints consistently (e.g., all endpoints under \"/v2/persons\") â€” but do not mix versioned and unversioned paths for the same resource."
    },
    {
      "description": "Endpoint path naming is inconsistent: the problem statement and client expect/describe unversioned endpoints under /persons (POST /persons, GET /persons, PUT /persons/{personId}, DELETE /persons/{personId}), but the solution implementation exposes some endpoints under a versioned path (GET and PUT use \"v2/persons\" while POST and DELETE use \"persons\"). This creates a semantic mismatch across artifacts (problem statement -> template -> solution) and within the solution itself, making it unclear which URI students should implement or call. Students mapping the problem requirements to the code (and writing the client requests) will encounter failing requests or be unsure whether to include the \"v2/\" prefix.",
      "severity": "HIGH",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 109,
          "end_line": 114
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 10,
          "end_line": 19
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 23,
          "end_line": 27
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 29,
          "end_line": 35
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 37,
          "end_line": 43
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/server/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 45,
          "end_line": 49
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 27,
          "end_line": 36
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 65,
          "end_line": 71
        }
      ],
      "suggested_fix": "Make the persons endpoints consistent across all artifacts. Prefer matching the problem statement and client by using unversioned paths for all person endpoints. Concretely, change the server mappings to: @GetMapping(\"persons\") and @PutMapping(\"persons/{personId}\") (instead of \"v2/persons\"). Alternatively, if versioning is intended, apply the same \"v2/\" prefix consistently to all Person endpoints and update the client to call the versioned URIs. The simplest corrective action: remove the accidental \"v2/\" prefix in the solution server for GET and PUT so all endpoints uniformly use \"persons\"."
    }
  ]
}
