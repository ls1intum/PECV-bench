{
  "case_id": "new-data/MTG26-SQL_Basics/008",
  "issues": [
    {
      "description": "The solution SQL uses double quotes for string literals (e.g. art=\"Freibad\", regierungsbezirk=\"Oberbayern\", gemeindeschluessel = \"09162000\"). Many common SQL engines (e.g. PostgreSQL, SQLite by default) treat double quotes as identifier delimiters and require single quotes for string literals. This can cause student queries copied from the solution to fail or behave incorrectly depending on the SQL dialect used. The problem statement does not specify a dialect or quoting convention, so students may be blocked by this inconsistency.",
      "severity": "MEDIUM",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe01.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe03.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 106,
          "end_line": 118
        }
      ],
      "suggested_fix": "Make the string-literal quoting consistent with the execution environment. Prefer using single quotes for string literals in the solution (e.g. WHERE art = 'Freibad', WHERE regierungsbezirk = 'Oberbayern', WHERE gemeindeschluessel = '09162000'), or explicitly state the SQL dialect/quoting rules in the problem statement so students know which quoting convention to follow."
    },
    {
      "description": "Table identifier capitalization is inconsistent across solution files (for example, solution_repository/aufgabe04.sql uses FROM gemeinde while other solution files use FROM Gemeinde). On case-sensitive database systems or exercises where the schema uses a specific capitalization, these differences can cause queries to fail or confuse students about the correct table names.",
      "severity": "LOW",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe04.sql",
          "start_line": 2,
          "end_line": 2
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 2,
          "end_line": 2
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe05.sql",
          "start_line": 2,
          "end_line": 2
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 120,
          "end_line": 128
        }
      ],
      "suggested_fix": "Use a single, consistent table naming convention across templates and solutions matching the provided schema (e.g. always 'Gemeinde' or always 'gemeinde'). Update the solution files to use the exact table identifiers that the exercise schema uses, and document the correct table names in the problem statement if necessary."
    },
    {
      "description": "The conceptual entity 'Gemeinde' (municipality) is referenced with inconsistent identifier casing across artifacts: the problem statement and most solution files use 'Gemeinde' (capitalized), but solution_repository/aufgabe04.sql uses the lowercase identifier 'gemeinde' in the FROM clause. Because some SQL setups are case-sensitive for identifiers (or students may copy/paste and be unsure whether capitalization matters), this inconsistency can create unnecessary confusion when mapping the problem text to the provided solution and when running queries.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 112,
          "end_line": 114
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe04.sql",
          "start_line": 2,
          "end_line": 2
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 2,
          "end_line": 2
        }
      ],
      "suggested_fix": "Use a single consistent table identifier across all artifacts. For example, change line 2 of solution_repository/aufgabe04.sql from 'FROM gemeinde' to 'FROM Gemeinde' so it matches the problem statement and other solution files. Alternatively, uniformly use lowercase (e.g., 'gemeinde') everywhere and document that choice, to avoid case-sensitivity issues across different SQL engines."
    }
  ]
}
