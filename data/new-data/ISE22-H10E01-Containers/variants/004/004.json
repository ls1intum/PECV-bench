{
  "case_id": "new-data/ISE22-H10E01-Containers/004",
  "issues": [
    {
      "description": "The problem statement and the template expect the addParent method to have the signature addParent(Person person, Person parent) (i.e., first argument is the child/person to be modified, second argument is the parent to add). The solution implementation declares addParent(Person parent, Person person) (parameter order swapped). PersonResource (in both template and solution) calls personService.addParent(person, parent). This parameter-order mismatch between template/problem and the solution is a structural inconsistency: calls that pass (person, parent) will bind the arguments to the wrong parameters in the solution implementation, producing incorrect behavior and confusing students about the intended API.",
      "severity": "HIGH",
      "category": "METHOD_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 99,
          "end_line": 106
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/main/java/de/tum/in/ase/eist/service/PersonService.java",
          "start_line": 40,
          "end_line": 43
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 60,
          "end_line": 64
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/main/java/de/tum/in/ase/eist/service/PersonService.java",
          "start_line": 40,
          "end_line": 46
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/test/java/de/tum/in/ase/eist/PersonServiceTest.java",
          "start_line": 107,
          "end_line": 109
        }
      ],
      "suggested_fix": "Make the addParent method signature consistent across all artifacts. Change the solution implementation to use the signature public Person addParent(Person person, Person parent) and ensure the implementation treats the first parameter as the child/person being modified and the second as the parent to add (i.e., person.getParents().add(parent); return personRepository.save(person);). Alternatively, if the intended API is that the first parameter is the parent, update the problem statement, template method stub, PersonResource call sites, and tests to use that order — but keep the signature consistent across problem, template, resource, and tests."
    },
    {
      "description": "The method addParent is described in the problem statement and declared in the template as addParent(Person person, Person parent) (child first, parent second). In the reference solution the method signature is implemented as addParent(Person parent, Person person) — the parameter order (and thus the positional meaning) is swapped. PersonResource (both template and solution) calls personService.addParent(person, parent) expecting the child-first ordering. This discrepancy in parameter ordering/naming across artifacts creates a mapping confusion: students reading the problem and template expect to pass (child, parent), but the solution's signature uses the reverse parameter order, making it unclear which argument corresponds to the child vs. parent.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 99,
          "end_line": 106
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/main/java/de/tum/in/ase/eist/service/PersonService.java",
          "start_line": 40,
          "end_line": 43
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 60,
          "end_line": 65
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/main/java/de/tum/in/ase/eist/service/PersonService.java",
          "start_line": 40,
          "end_line": 46
        }
      ],
      "suggested_fix": "Align the addParent method signature across artifacts. Change the solution implementation signature to match the problem and template: public Person addParent(Person person, Person parent) { ... } and use those parameter names inside the method (treat the first parameter as the child and the second as the parent). Alternatively, change the PersonResource call sites consistently if you prefer parent-first semantics, but keep the same ordering/names in problem statement, template, resource, and solution to avoid confusion."
    }
  ]
}
