{
  "case_id": "new-data/ISE22-H10E01-Containers/009",
  "issues": [
    {
      "description": "The PersonResource constructor signature differs between the template and the solution. The template defines a single-argument constructor PersonResource(PersonService) (used for normal Spring injection), while the solution defines PersonResource(PersonService, String) with an extra String parameter. This mismatch is structural and can confuse students about how the REST controller is constructed and autowired by Spring. It may also prevent the application from starting or being autowired correctly if Spring cannot satisfy the extra String dependency.",
      "severity": "HIGH",
      "category": "CONSTRUCTOR_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 21,
          "end_line": 25
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 21,
          "end_line": 25
        }
      ],
      "suggested_fix": "Make the constructor signatures consistent. Remove the unused String parameter from the solution constructor (so both have PersonResource(PersonService)) or, if an extra configuration value is intended, annotate the parameter (or a field) with @Value and document it in the problem statement. The simplest fix: align the solution to the template by using only PersonService in the constructor."
    },
    {
      "description": "The problem statement refers to endpoints with an '/api' prefix (e.g. 'PUT /api/persons/{personId}/parents'), but the provided template and solution implement the endpoints without the '/api' base path (e.g. '/persons/...'). The integration tests in the repositories also use '/persons' (no '/api'). This discrepancy between the textual specification and the code/tests can confuse students about the exact endpoints to call when writing integration tests or using the REST API.",
      "severity": "MEDIUM",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 125,
          "end_line": 126
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 17,
          "end_line": 19
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 60,
          "end_line": 72
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 17,
          "end_line": 19
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 60,
          "end_line": 72
        }
      ],
      "suggested_fix": "Clarify and align the API paths. Either (a) update the problem statement to reference endpoints without the '/api' prefix (e.g. 'PUT /persons/{personId}/parents'), matching the template and tests, or (b) add a consistent '/api' base path to the controllers (e.g. @RequestMapping(path = \"/api\", consumes = ..., produces = ...)) in the template/solution and update the tests accordingly. Ensure the documentation, tests, and code use the same base path."
    },
    {
      "description": "The PersonResource constructor signature differs between the template and the solution: the template declares PersonResource(PersonService personService) while the solution declares PersonResource(PersonService personService, String apiKey). The problem statement describes the PersonResource component but does not mention an apiKey parameter. This undocumented extra constructor parameter in the solution creates confusion for students mapping the problem requirements to the code and may cause Spring wiring/bean creation questions (or runtime errors) if students try to compare or run the solution code without an explanation.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 21,
          "end_line": 24
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 23,
          "end_line": 25
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/main/java/de/tum/in/ase/eist/rest/PersonResource.java",
          "start_line": 23,
          "end_line": 25
        }
      ],
      "suggested_fix": "Make the solution's PersonResource constructor match the template and problem expectations by removing the undocumented String apiKey parameter (i.e., use PersonResource(PersonService personService)). Alternatively, if the apiKey is required, document it in the problem statement and template (or inject it via @Value) so students clearly see why the extra parameter exists."
    }
  ]
}
