{
  "case_id": "new-data/ERA2021-H03-Grafikspeicher/006",
  "issues": [
    {
      "description": "The problem statement (and the solution) require that the computed pixel memory address be placed in ESI and then the pixel value be loaded with mov ecx, [esi]. However the template contains a comment at the calculation TODO that says the result address should be in EDI. Later template code pushes and uses ESI as if the address is in ESI. This mismatch (template comment saying EDI vs. problem/solution using ESI) is likely to confuse students: if they follow the template comment they will store the address in EDI and the subsequent code that expects ESI will read the wrong memory location or garbage. ",
      "severity": "HIGH",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 20,
          "end_line": 27
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 100,
          "end_line": 102
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 74,
          "end_line": 84
        }
      ],
      "suggested_fix": "Make the template's TODO comment and any in-code guidance consistent with the problem statement and solution: state that the computed address must be in ESI (not EDI) and that mov ecx, [esi] should be used to load the pixel. Concretely, change the comment around the calculation TODO in template_repository/pixel.asm to indicate 'result (address) in ESI' and ensure any instructions about which registers must/must not be saved align with the rest of the template (so students implement the computation into ESI as described)."
    },
    {
      "description": "The problem statement and the provided solution both treat the computed pixel memory address as being placed into ESI (and then use mov ecx, [esi]). The template's comment at the main calculation TODO, however, incorrectly says the result address should be in EDI and also mislabels the input register for x as ESI (\"(ESI:x, EBX:y ... ) result (address) in EDI\"). This is an unintended naming/register inconsistency for the same conceptual entity (the computed screen-memory address). A student following the template comment may compute the address into EDI (and/or assume x is in ESI) while later code and the exercise text expect the address in ESI and x in EAX/EBXâ€”leading to confused mapping between the requirement and the code and likely incorrect program behavior.",
      "severity": "HIGH",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 24,
          "end_line": 27
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 100,
          "end_line": 102
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 74,
          "end_line": 84
        }
      ],
      "suggested_fix": "Correct the template comment to match the problem statement and solution. Replace the misleading line with something like: \";TODO: calculate position; inputs: EAX = x, EBX = y, display_start is the base address; result (address) in ESI. Save any registers you modify except EAX and EBX.\" Ensure any instructional inline comments consistently state that the computed pixel address must be stored in ESI (not EDI) and that x is provided in EAX (or as shown in the surrounding code) so students can map the requirement to the implementation unambiguously."
    }
  ]
}
