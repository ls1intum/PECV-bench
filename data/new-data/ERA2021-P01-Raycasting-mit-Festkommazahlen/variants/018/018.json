{
  "case_id": "new-data/ERA2021-P01-Raycasting-mit-Festkommazahlen/018",
  "issues": [
    {
      "description": "In the solution repository header for the bitmap class the declared class name does not match the implementation. solution_repository/example_program/src/Bitmap24.hpp declares class Image24 (line ~30) but the implementation and constructors in Bitmap24.cpp use Bitmap24::Bitmap24(...) and Bitmap24::~Bitmap24() (Bitmap24.cpp defines and implements Bitmap24). This is an inner-artifact / cross-file type/name mismatch that will break compilation and confuses students about the intended API (class name and constructors). The template repository uses class Bitmap24 consistently, so the solution header diverges from both the template and the implementation file.",
      "severity": "HIGH",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/example_program/src/Bitmap24.hpp",
          "start_line": 30,
          "end_line": 40
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/example_program/src/Bitmap24.cpp",
          "start_line": 26,
          "end_line": 41
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/example_program/src/Bitmap24.hpp",
          "start_line": 30,
          "end_line": 40
        }
      ],
      "suggested_fix": "Make the class name in the solution header consistent with the implementation and the template. Either rename the class in Bitmap24.hpp from Image24 to Bitmap24 (so the header, implementation and template all use Bitmap24), or rename the implementation in Bitmap24.cpp to Image24 and update all references accordingly. Prefer restoring 'Bitmap24' in the solution header to match the template and the .cpp implementation."
    },
    {
      "description": "The assembly symbol declaration for fix_vec_sub differs between template and solution. In the template the assembly file exports the symbol (declares 'global fix_vec_sub_asm'), allowing the function to be linked and called from C. In the solution repository the same file contains 'extern fix_vec_sub_asm' instead of 'global', which changes symbol visibility/definition intent and will prevent the symbol from being exported for linking. This deviation between template and solution is structural and will cause link failures or confusion about where the symbol is defined.",
      "severity": "HIGH",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/assignment/fix_vec_sub.asm",
          "start_line": 10,
          "end_line": 12
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/assignment/fix_vec_sub.asm",
          "start_line": 10,
          "end_line": 12
        }
      ],
      "suggested_fix": "Restore consistent symbol visibility: change the 'extern fix_vec_sub_asm' declaration in solution_repository/assignment/fix_vec_sub.asm to 'global fix_vec_sub_asm' (matching the template and the expectation that the assembly defines and exports the symbol). Alternatively, if the symbol is intended to be defined elsewhere, ensure all assembly/C files and build/link settings are updated consistently and documented; however the simplest fix is to export the symbol (global) as in the template."
    },
    {
      "description": "Class name mismatch in the solution files: the solution header declares the class as Image24, but its constructors and the rest of the code (main.cpp and Bitmap24.cpp) use Bitmap24. The template repository defines and uses class Bitmap24. This inconsistent identifier naming (Image24 vs Bitmap24) breaks the conceptual mapping between header and implementation, will likely prevent the project from compiling, and creates unnecessary confusion for students trying to find where to implement or use the described bitmap type.",
      "severity": "HIGH",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "example_program/src/Bitmap24.hpp",
          "start_line": 30,
          "end_line": 58
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "example_program/src/Bitmap24.hpp",
          "start_line": 30,
          "end_line": 58
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "example_program/src/Bitmap24.cpp",
          "start_line": 26,
          "end_line": 41
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "example_program/src/main.cpp",
          "start_line": 36,
          "end_line": 38
        }
      ],
      "suggested_fix": "Make the class name consistent across header and all implementation/usage sites. The simplest fix is to change the solution header declaration from 'class Image24' to 'class Bitmap24' (so the class name matches the constructors and the rest of the code), or alternatively rename all uses/implementations of 'Bitmap24' to 'Image24'. Prefer aligning to 'Bitmap24' to match the template and existing implementation (update 'class Image24' -> 'class Bitmap24' and ensure constructor/destructor names remain Bitmap24)."
    }
  ]
}
