{
  "case_id": "new-data/ERA2021-H03-Grafikspeicher/015",
  "issues": [
    {
      "description": "Problem statement requires the program entry point to be the label `_start`, but both the template and the solution define and use `main` as the entry point (global main / main:). This is a structural mismatch: students reading the problem are instructed to use `_start`, but the provided starter code and the reference solution use `main`. This will confuse students about which label to implement and may cause linking/execution or grading issues if an automated grader expects `_start`.",
      "severity": "HIGH",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 3,
          "end_line": 4
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 30,
          "end_line": 31
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 44,
          "end_line": 44
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 14,
          "end_line": 18
        }
      ],
      "suggested_fix": "Make the artifacts consistent: either change the problem statement to allow `main` as the entry point (if that is intended), or modify the template and solution to provide `_start` instead of `main`. A minimal change is to add an `_start` label that forwards to `main` (or replace `global main`/`main:` with `global _start` and rename the label), and ensure any extern/stack setup matches the required entry convention. Update the instructions in the problem statement accordingly so students are not confused."
    },
    {
      "description": "The problem describes a screen buffer for a 1920×1080 display with 32 bits per pixel (1920*1080*4 = 8,294,400 bytes). In the template and solution the buffer label `display_start` is declared as `RESD 8294400` (reserving 8,294,400 doublewords), which actually allocates 4× the intended number of bytes (8294400 dwords = 33,177,600 bytes). This is a mismatch between the numeric size expected by the problem statement and the declaration in the code and may confuse students about units (bytes vs. dwords) and buffer sizing.",
      "severity": "MEDIUM",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 31,
          "end_line": 34
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 20,
          "end_line": 22
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 4,
          "end_line": 6
        }
      ],
      "suggested_fix": "Clarify and correct the reservation so it matches the intended byte count. Either:\n- Reserve bytes: change to `display_start RESB 8294400` (reserve 8,294,400 bytes), or\n- Reserve dwords equal to pixel count: change to `display_start RESD 2073600` (1920*1080 = 2,073,600 dwords).\nUpdate any comments/documentation to state whether the reservation count is in bytes or dwords to avoid further confusion."
    },
    {
      "description": "The problem statement explicitly requires the program entry label to be `_start` (Problem Statement, line 4), but both the template and the provided solution declare and use the symbol `main` as the program entry point (`global main` and `main:`). This is a naming inconsistency for the same conceptual entity (the program entry point). It can confuse students (who are told to use `_start`) and may cause grading or execution mismatches depending on the expected entry label.",
      "severity": "HIGH",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 4,
          "end_line": 4
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 30,
          "end_line": 44
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 14,
          "end_line": 19
        }
      ],
      "suggested_fix": "Make the artifacts consistent about the program entry point. Either (A) update the template and solution to use `_start` as the entry label (replace `global main` with `global _start` and rename `main:` to `_start:`; ensure correct startup/stack setup and appropriate syscalls or calls to libc are preserved), or (B) relax the problem statement to accept `main` as a valid entry point and remove the insistence on `_start`. Option A is recommended if the grader/environment expects `_start`; Option B is acceptable if the provided template/solution rely on the C runtime and the course intends `main`."
    }
  ]
}
