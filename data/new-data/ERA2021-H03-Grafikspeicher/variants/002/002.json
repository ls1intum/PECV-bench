{
  "case_id": "new-data/ERA2021-H03-Grafikspeicher/002",
  "issues": [
    {
      "description": "Problem statement requires the main program to return status code 1 in EAX, but neither the template nor the provided solution set EAX to 1 before returning. The problem text (grading requirement) and the code (template and solution) are inconsistent: students following the template will not meet the stated requirement and may fail automatic grading. This is a structural/contract mismatch (expected process return value vs. actual code).",
      "severity": "HIGH",
      "category": "METHOD_RETURN_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 4,
          "end_line": 4
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 165,
          "end_line": 169
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 147,
          "end_line": 151
        }
      ],
      "suggested_fix": "Ensure the program sets EAX = 1 before returning from main (or perform an explicit exit with status 1). For example, add 'mov eax, 1' immediately prior to the final 'ret' in main (or call the appropriate exit syscall with eax=1). Update both the template and solution so the final return value matches the problem statement."
    },
    {
      "description": "The bss symbol display_start is declared with 'RESD 8294400' in both template and solution. The problem context implies the screen buffer size is 1920 × 1080 × 4 = 8,294,400 bytes. Declaring RESD 8294400 allocates 8,294,400 dwords (4× the intended bytes), i.e. 33,177,600 bytes, which is likely unintended and can confuse students about units (bytes vs. dwords) or lead to unnecessarily large BSS allocation.",
      "severity": "MEDIUM",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 20,
          "end_line": 21
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 4,
          "end_line": 6
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 30,
          "end_line": 34
        }
      ],
      "suggested_fix": "Clarify and correct the allocation directive. Either allocate the intended number of bytes with 'RESB 8294400' or allocate the correct number of dwords with 'RESD 2073600' (since 2073600 pixels × 4 bytes = 8,294,400 bytes). Update the template (and solution) so the declaration matches the intended units and does not accidentally oversubscribe BSS."
    }
  ]
}
