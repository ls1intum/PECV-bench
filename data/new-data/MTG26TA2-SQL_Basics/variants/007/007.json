{
  "case_id": "new-data/MTG26-SQL_Basics/007",
  "issues": [
    {
      "description": "The solution SQL uses double quotes for string literals (e.g. WHERE art=\"Freibad\", WHERE regierungsbezirk=\"Oberbayern\", WHERE gemeindeschluessel = \"09162000\"). In many SQL dialects (notably PostgreSQL and standard SQL) double quotes denote identifiers, while string literals must use single quotes. This can cause queries to fail or behave unexpectedly depending on the evaluation environment and will confuse students when they run or adapt the reference queries.",
      "severity": "HIGH",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe01.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe03.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 108,
          "end_line": 118
        }
      ],
      "suggested_fix": "Replace double quotes around string literals with single quotes in the solution files. Example: WHERE art = 'Freibad' , WHERE regierungsbezirk = 'Oberbayern', WHERE gemeindeschluessel = '09162000'. Optionally note which SQL dialect is used in the exercise to avoid ambiguity about quoting rules."
    },
    {
      "description": "The solution files use inconsistent capitalization for the same table name 'Gemeinde' (e.g. 'Gemeinde' in many files but 'gemeinde' lowercase in aufgabe04.sql). Identifier casing can matter in some SQL systems (or when identifiers were created with quotes). Inconsistent naming across solution files may confuse students or produce errors if their environment treats identifiers as case-sensitive.",
      "severity": "LOW",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe04.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe05.sql",
          "start_line": 1,
          "end_line": 4
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe06.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe07.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe08.sql",
          "start_line": 1,
          "end_line": 3
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe09.sql",
          "start_line": 1,
          "end_line": 4
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 111,
          "end_line": 151
        }
      ],
      "suggested_fix": "Standardize the table identifier across template and solution files (e.g. use 'Gemeinde' everywhere). If the target DB is case-sensitive for identifiers, either consistently quote identifiers where necessary or document the required quoting/casing rules for students."
    },
    {
      "description": "In the solution repository the same table concept 'Gemeinde' is referenced with inconsistent identifier casing: some solution files use 'Gemeinde' (capital G) while aufgabe04.sql uses 'gemeinde' (lowercase g). The problem statement and other solution files consistently refer to the table as 'Gemeinde'. This casing inconsistency can create minor confusion for students mapping the problem description to the example solutions or when running queries on case-sensitive SQL setups.",
      "severity": "LOW",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 124,
          "end_line": 126
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe04.sql",
          "start_line": 2,
          "end_line": 2
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/aufgabe02.sql",
          "start_line": 2,
          "end_line": 2
        }
      ],
      "suggested_fix": "Make the table identifier consistent across artifacts. Change 'FROM gemeinde' in solution_repository/aufgabe04.sql (line 2) to 'FROM Gemeinde' to match the problem statement and the other solution files (or standardize all occurrences to the canonical schema name). Ensure the repository uses the same exact identifier (including capitalization) everywhere so students can unambiguously map the problem text to the SQL examples."
    }
  ]
}
