{
  "case_id": "new-data/ISE22-H05E01-REST_Architectural_Style/008",
  "issues": [
    {
      "description": "The problem statement (Part 2) says “Each method takes a Consumer<List<Note>> parameter” while the surrounding text and the rest of the exercise clearly refer to person-related controller methods (they should accept Consumer<List<Person>>). This is a parameter-type typo in the specification and will confuse students about the correct generic type to use for PersonController methods.",
      "severity": "MEDIUM",
      "category": "METHOD_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 149,
          "end_line": 151
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 10,
          "end_line": 12
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 27,
          "end_line": 30
        }
      ],
      "suggested_fix": "Correct the problem statement to state that each PersonController method takes a Consumer<List<Person>> parameter (not Consumer<List<Note>>). This will align the textual description with the method signatures in the template and solution."
    },
    {
      "description": "The problem statement requires that HTTP requests from the client must happen asynchronously. The solution implementation of PersonController.addPerson uses a blocking call (.block()) on the reactive pipeline, performing the request synchronously. This contradicts the stated asynchronous requirement and the asynchronous pattern used elsewhere (e.g., NoteController), and may mislead students about the intended reactive, non-blocking design.",
      "severity": "HIGH",
      "category": "METHOD_RETURN_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 143,
          "end_line": 146
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 27,
          "end_line": 41
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 8,
          "end_line": 24
        }
      ],
      "suggested_fix": "Make the solution's addPerson method non-blocking and follow the same asynchronous pattern as NoteController (use .retrieve().bodyToMono(...).subscribe(...) and update the internal list inside the subscribe callback). Alternatively, if the blocking call was intentional, update the problem statement to remove or relax the asynchronous requirement and explain the reason. Preferably fix the solution to be asynchronous to preserve the exercise's reactive-design learning objective."
    },
    {
      "description": "The problem statement text incorrectly refers to the callback parameter type as Consumer<List<Note>> when describing the PersonController methods. The actual template and solution code use Consumer<List<Person>> for all PersonController methods. This mismatch (Note vs Person) in the problem description can confuse students about the expected method signatures and the type of data being passed to the consumer.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 151,
          "end_line": 152
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 10,
          "end_line": 24
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/src/client/java/de/tum/in/ase/eist/controller/PersonController.java",
          "start_line": 27,
          "end_line": 84
        }
      ],
      "suggested_fix": "Correct the problem statement to refer to Consumer<List<Person>> for the PersonController methods. For example, replace \"Each method takes a `Consumer<List<Note>>` parameter\" with \"Each method takes a `Consumer<List<Person>>` parameter\" so the description matches the template and solution signatures."
    }
  ]
}
