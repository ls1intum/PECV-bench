{
  "case_id": "ERA2021/P01-Raycasting-mit-Festkommazahlen/006",
  "issues": [
    {
      "description": "The problem statement specifies that the fix_add function expects three arguments (destination register, first operand, and second operand), but both the template and solution implementations of fix_add_asm use four 32-bit stack arguments to pass two 64-bit operands and return the result implicitly in EDX:EAX (no explicit destination-register argument). This mismatch between the described signature and the actual call convention can confuse students about how to call and implement the function.",
      "severity": "MEDIUM",
      "category": "METHOD_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 25,
          "end_line": 26
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/assignment/fix_add.asm",
          "start_line": 86,
          "end_line": 93
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/assignment/fix_add.asm",
          "start_line": 86,
          "end_line": 93
        }
      ],
      "suggested_fix": "Either update the problem statement to describe the two 64-bit operands passed as four dword arguments and the implicit EDX:EAX return, or revise the template/solution to accept exactly three arguments (destination register, first operand, second operand) as originally described."
    },
    {
      "description": "In solution_repository/assignment/fix_vec_sub.asm, the symbol fix_vec_sub_asm is declared with 'extern' instead of 'global' before its definition. The template uses 'global fix_vec_sub_asm' to export the symbol, but the solutionâ€™s 'extern' directive imports it, preventing the function from being properly linked.",
      "severity": "HIGH",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/assignment/fix_vec_sub.asm",
          "start_line": 10,
          "end_line": 13
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/assignment/fix_vec_sub.asm",
          "start_line": 11,
          "end_line": 14
        }
      ],
      "suggested_fix": "Replace the 'extern fix_vec_sub_asm' directive in solution_repository/assignment/fix_vec_sub.asm with 'global fix_vec_sub_asm' so that the function is correctly exported for linkage."
    },
    {
      "description": "The problem statement refers to the function as `fix_add`, but both the starter template and the solution repository define the function as `fix_add_asm`. This naming mismatch may confuse students trying to locate or implement the required function.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 25,
          "end_line": 25
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "assignment/fix_add.asm",
          "start_line": 6,
          "end_line": 6
        }
      ],
      "suggested_fix": "Update the problem statement to refer to `fix_add_asm` instead of `fix_add`, or rename the function in the template (and solution) to `fix_add` so that the names align across all artifacts."
    }
  ]
}
