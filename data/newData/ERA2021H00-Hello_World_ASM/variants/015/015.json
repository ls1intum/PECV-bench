{
  "case_id": "newData/ERA2021-H00-Hello-World-ASM/015",
  "issues": [
    {
      "description": "The problem statement requires the data label `hello` to be exported globally so tests can access it, but the template defines the label (hello db ...) without declaring it global. As provided, students starting from the template will not have the `hello` symbol exported, which can cause automated tests or external tooling to fail to locate the symbol despite it existing in the file.",
      "severity": "HIGH",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 16,
          "end_line": 16
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/helloWorld.asm",
          "start_line": 2,
          "end_line": 6
        }
      ],
      "suggested_fix": "Add an export directive for the data label in the template, e.g. insert `global hello` (or the assembler-appropriate global/export directive) so the `hello` symbol is publicly visible to tests. Keep the `hello db` definition unchanged."
    },
    {
      "description": "The solution file does not contain the `hello` data label or a data section and instead exports a different entry label (`CMAIN`). This conflicts with the problem statement's explicit requirement that the `hello` label be globally exported and with the template which provides the `hello` string and calls printf. Students comparing template and solution may be confused because the solution omits the `hello` symbol and the printf usage entirely.",
      "severity": "MEDIUM",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 16,
          "end_line": 17
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/helloWorld.asm",
          "start_line": 2,
          "end_line": 16
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/helloWorld.asm",
          "start_line": 3,
          "end_line": 6
        }
      ],
      "suggested_fix": "Either (A) update the solution to include the same `hello` data label and `section .data` (and mark it global) so it matches the problem/template layout, or (B) adjust the problem statement to explain that the reference solution uses a different structure (e.g. SASM/CMAIN style) and that the `hello` symbol must still be exported in student submissions. Preferred: modify the solution to include and export `hello` for consistency."
    },
    {
      "description": "The template exports `main` (global main) while the solution exports `CMAIN` (global CMAIN). The differing exported entry labels between template and solution may confuse students about expected entry points or assembler conventions (especially since the problem statement does not clarify which entry symbol is required).",
      "severity": "LOW",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/helloWorld.asm",
          "start_line": 6,
          "end_line": 6
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/helloWorld.asm",
          "start_line": 4,
          "end_line": 6
        }
      ],
      "suggested_fix": "Make the exported entry symbol consistent across template and solution (choose either `main` or `CMAIN`) or add a brief note in the problem statement explaining why the solution uses a different entry label (for example, different assembler/runtime conventions)."
    }
  ]
}
