{
  "case_id": "newData/ERA2021-H00-Hello-World-ASM/011",
  "issues": [
    {
      "description": "The template data declaration uses a dword directive for a string (hello dd \"Hello World!\", 10, 0). In NASM the dd directive defines 32-bit words, whereas a string and the trailing byte values should be declared with db. This is flagged in the template comment as a \"Type mismatch\" but the problem statement only instructs students to change the register name (ecc → ecx). As a result, after students make the intended single-letter change the assembly may still fail to compile because of the incorrect data directive. The solution repository does not show a matching data declaration to clarify the correct directive, so students could be confused about whether they must also change dd → db to get a successful build.",
      "severity": "HIGH",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 15,
          "end_line": 18
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/helloWorld.asm",
          "start_line": 2,
          "end_line": 4
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/helloWorld.asm",
          "start_line": 1,
          "end_line": 6
        }
      ],
      "suggested_fix": "Correct the data declaration in the template so it matches the expected byte-wise string representation, e.g. change the template line to: hello db \"Hello World!\", 10, 0. Alternatively, update the problem statement to explicitly mention the additional required fix (dd → db) or provide a template that only contains the intended single-letter error (ecc → ecx). Also consider adding a matching data declaration to the solution to demonstrate the correct form."
    },
    {
      "description": "The template and the solution use different entry-point/export symbols and calling conventions: the template declares 'global main' and 'extern printf' and calls printf (push hello / call printf), while the solution declares 'global CMAIN' and labels the entry 'CMAIN' and omits printf/data usage. Because the solution uses a different entry label and a different code structure (and includes SASM-specific comments), students comparing the solution to the template may be confused about which symbol name the build system expects (main vs CMAIN) or how to integrate the printf/data usage shown in the template with the solution's minimal example.",
      "severity": "MEDIUM",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/helloWorld.asm",
          "start_line": 5,
          "end_line": 17
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/helloWorld.asm",
          "start_line": 4,
          "end_line": 7
        },
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 19,
          "end_line": 20
        }
      ],
      "suggested_fix": "Make the entry point and example usage consistent between template and solution. Either change the solution to use the same entry label and calling pattern as the template (global main, call printf with the data defined in the template), or update the template to match the solution's CMAIN/SASM-oriented layout. Also clarify in the problem statement which symbol the Makefile/test harness expects (e.g. 'main' vs 'CMAIN') and note any assembler-specific differences (NASM vs SASM) so students are not misled by mismatched examples."
    }
  ]
}
