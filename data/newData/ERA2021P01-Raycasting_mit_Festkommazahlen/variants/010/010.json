{
  "case_id": "newData/ERA2021-P01-Raycasting-mit-Festkommazahlen/010",
  "issues": [
    {
      "description": "The Bitmap24 class member types differ between the template and the solution: the template header declares width and height as int, while the solution header declares them as long. This is a cross-repository attribute type mismatch. Students comparing the template and the provided solution (or trying to reuse code from one in the other) may be confused about the intended type and range of these members. Although code using int parameters (constructors/resize_buffer) still compiles, the inconsistency can cause surprise when inspecting the 'reference' implementation and may lead students to change types inconsistently when porting code between repos.",
      "severity": "LOW",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/example_program/src/Bitmap24.hpp",
          "start_line": 31,
          "end_line": 36
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/example_program/src/Bitmap24.hpp",
          "start_line": 31,
          "end_line": 36
        }
      ],
      "suggested_fix": "Make the Bitmap24 member types consistent across template and solution. Either change both headers to use int (to match constructor/resize_buffer usage and the template), or choose a single, well-justified type (e.g., size_t or long) and update the template code, implementation files, and any code that relies on width/height accordingly. Prefer keeping the same type in both repositories so students are not confused when comparing their work to the reference."
    },
    {
      "description": "The assembly file for the vector subtraction assignment differs in symbol visibility between template and solution. In the template (assignment/fix_vec_sub.asm) the function symbol is exported with 'global fix_vec_sub_asm', but in the solution the same file uses 'extern fix_vec_sub_asm' near the top. Using 'extern' instead of 'global' is a visibility/ linkage mismatch: it declares the symbol as imported rather than exported. This inconsistency is likely unintentional and will confuse students inspecting the reference assembly; it may also lead to incorrect expectations about how the symbol should be exported (and could break linking if the symbol is not properly exported).",
      "severity": "HIGH",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/assignment/fix_vec_sub.asm",
          "start_line": 9,
          "end_line": 12
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/assignment/fix_vec_sub.asm",
          "start_line": 9,
          "end_line": 12
        }
      ],
      "suggested_fix": "Export the assembly symbol consistently. Replace the 'extern fix_vec_sub_asm' in the solution file with 'global fix_vec_sub_asm' (matching the template), or otherwise ensure the function is exported so it can be linked by the C test harness. Keep the symbol visibility identical in template and solution so students clearly see how the assembly routine should be declared/exported."
    }
  ]
}
