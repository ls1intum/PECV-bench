{
  "case_id": "newData/ERA2021-P01-Raycasting-mit-Festkommazahlen/012",
  "issues": [
    {
      "description": "Conflicting FIX_LEN macro across files in the solution causes inconsistent fixed-point typedefs between translation units. In solution_repository/example_program/src/math_fix.h FIX_LEN is defined as 4 (so fix_t is a 32-bit int), while solution_repository/example_program/src/math_fix.c and solution_repository/tests/src/math_fix.h define FIX_LEN as 8 (so fix_t is a 64-bit long long). This mismatch will produce inconsistent typedefs for fix_t across compilation units, leading to incorrect sizes, wrong numeric behavior, and likely build/link/runtime errors or confusing test failures. The template repository uses FIX_LEN == 8 in the example headers, so the solution's example_program/math_fix.h (FIX_LEN == 4) is inconsistent with both the rest of the solution and the template.",
      "severity": "HIGH",
      "category": "ATTRIBUTE_TYPE_MISMATCH",
      "related_locations": [
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "example_program/src/math_fix.h",
          "start_line": 11,
          "end_line": 13
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "example_program/src/math_fix.c",
          "start_line": 11,
          "end_line": 11
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "tests/src/math_fix.h",
          "start_line": 7,
          "end_line": 8
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "example_program/src/math_fix.h",
          "start_line": 11,
          "end_line": 13
        }
      ],
      "suggested_fix": "Unify the FIX_LEN definition across all headers and sources. Choose the intended fixed-point width (likely 8 to match the implementation in math_fix.c and the tests) and set #ifndef FIX_LEN / #define FIX_LEN to the same value in example_program/src/math_fix.h and tests/src/math_fix.h (and remove any conflicting local #define). Document the chosen FIX_LEN in a single header (or a common config header) and include that header everywhere to avoid contradictory local defines."
    },
    {
      "description": "Linkage declaration mismatch in assignment file: template_repository/assignment/fix_vec_sub.asm declares the function symbol as global (exported) while solution_repository/assignment/fix_vec_sub.asm contains an 'extern' declaration for fix_vec_sub_asm in the same file before the symbol is defined. Declaring the symbol 'extern' in a file that also defines it is confusing and inconsistent with the template (and with other assignment files that declare 'global'). This may confuse students about whether they should implement/define the symbol in their file or in some other module, and could cause incorrect assembler/linker behavior depending on the assembler/linker conventions used.",
      "severity": "MEDIUM",
      "category": "VISIBILITY_MISMATCH",
      "related_locations": [
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "assignment/fix_vec_sub.asm",
          "start_line": 10,
          "end_line": 11
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "assignment/fix_vec_sub.asm",
          "start_line": 10,
          "end_line": 11
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "assignment/fix_vec_sub.asm",
          "start_line": 36,
          "end_line": 37
        }
      ],
      "suggested_fix": "Make the linkage declaration consistent with the template and other assignment files. Replace 'extern fix_vec_sub_asm' with 'global fix_vec_sub_asm' (or remove the extern declaration) so that the symbol's intended definition/export is unambiguous. Ensure all assignment ASM files follow the same pattern for symbol visibility (global for functions defined in the file, extern only for true external references)."
    }
  ]
}
