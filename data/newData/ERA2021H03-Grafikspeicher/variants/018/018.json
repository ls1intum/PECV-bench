{
  "case_id": "newData/ERA2021-H03-Grafikspeicher/018",
  "issues": [
    {
      "description": "The problem statement requires that the subroutine set_pixel may only change EAX (\"Außer dem Register eax dürfen keine anderen Registerinhalte verändert werden\"). The template, however, contains a comment that contradicts this contract and tells students to \"save all registers you modify except eax,ebx and esi\" (i.e. implying ebx and esi need not be preserved). This is a conflicting calling/convention contract: students could reasonably be confused whether EBX and ESI must be preserved across the call. The correct contract (from the problem) is that only EAX may be altered; all other registers must be preserved (or explicitly documented otherwise).",
      "severity": "HIGH",
      "category": "METHOD_PARAMETER_MISMATCH",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 30,
          "end_line": 33
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 100,
          "end_line": 102
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 153,
          "end_line": 168
        }
      ],
      "suggested_fix": "Make the calling convention / register-preservation rule consistent across artifacts. Update the template comment to match the problem statement, e.g. change the comment at template_repository/pixel.asm (lines ~100-102) to: \"Attention: preserve all registers you modify — only EAX may be changed by set_pixel; all other registers (including EBX and ESI) must be restored before return.\" Alternatively, explicitly state the allowed preserved registers (caller/callee-saved) in the problem statement and ensure the template and solution comments match that exact contract."
    },
    {
      "description": "The template's comment refers to the screen buffer as \"vga_buffer\" while the problem statement and both the template and solution code use the identifier \"display_start\" for the same conceptual entity (the base address of the framebuffer). This mismatch (a variable name mentioned in a TODO/comment but not present in the code) can confuse students who read the comment and then search for or try to use a non-existent symbol vga_buffer instead of the actual display_start symbol.",
      "severity": "MEDIUM",
      "category": "IDENTIFIER_NAMING_INCONSISTENCY",
      "related_locations": [
        {
          "type": "PROBLEM_STATEMENT",
          "file_path": "problem_statement.md",
          "start_line": 30,
          "end_line": 33
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 20,
          "end_line": 22
        },
        {
          "type": "TEMPLATE_REPOSITORY",
          "file_path": "template_repository/pixel.asm",
          "start_line": 100,
          "end_line": 100
        },
        {
          "type": "SOLUTION_REPOSITORY",
          "file_path": "solution_repository/pixel.asm",
          "start_line": 4,
          "end_line": 6
        }
      ],
      "suggested_fix": "Update the template comment to use the same identifier as the code and problem statement. Replace occurrences of \"vga_buffer\" in comments/TODOs with \"display_start\" (or, less preferred, rename the display_start symbol to vga_buffer across all artifacts). This alignment avoids students searching for a non-existent symbol and makes the mapping between requirement and code explicit."
    }
  ]
}
